<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <title>桃園區特約商店</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">
				<nav class="navbar navbar-expand-lg navbar-dark bg-danger">
				  <div class="container-fluid">
					<a class="navbar-brand" href="https://liff.line.me/2006499149-L8rJR54l">桃園區特約商店</a>

					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="切換導航">
					  <span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="mainNavbar">
					  <ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
						  <a class="nav-link" href="#">加入我們</a>
						</li>
					  </ul>

					  <!-- 登入頭像 + 名字 -->
					  <ul class="navbar-nav ms-auto">
						<li class="nav-item">
						  <a class="nav-link d-flex align-items-center" href="#">     
							<div id="Login_Img"><i class="bi bi-person-circle fs-4"></i></div>							
							<span class="me-2 text-white px-2" id="Login_Name">-</span>
						  </a>
						</li>
					  </ul>
					</div>
				  </div>
				</nav>
			
                <!-- Begin Page Content -->
                <div class="container-fluid py-3">
				  <div class="card border-dark  mb-3">
					<img src="./img/LineBC/AppointedStore/chiaho.jpg" class="card-img-top" alt="...">
					<div class="card-body">
					  <h5 class="card-title">嘉和汽車服務中心</h5>
					  <p class="card-text">汽車一站式 維修｜買賣｜鈑噴｜美容｜保險</p>
					    <div class="btn-group d-flex" role="group">
						  <a href="https://lin.ee/fuEzs6Z" class="btn btn-success flex-fill">LINE官方</a>
						  <a href="#" class="btn btn-primary flex-fill">商品瀏覽</a>
					    </div>
					</div>
				  </div>

				  <div class="card border-dark  mb-3">
					<img src="./img/LineBC/AppointedStore/chanyi.jpg" class="card-img-top" alt="...">
					<div class="card-body">
					  <h5 class="card-title">正義記帳事務所</h5>
					  <p class="card-text">工商登記服務｜稅務規劃</p>
						<div class="btn-group d-flex" role="group">
						  <a href="https://lin.ee/xecnVIe" class="btn btn-success flex-fill">LINE官方</a>
						  <a href="#" class="btn btn-primary flex-fill">商品瀏覽</a>
					    </div>
					</div>
				  </div>
				  
				  <div class="card border-dark  mb-3">
					<img src="./img/LineBC/AppointedStore/haisiang-water.jpg" class="card-img-top" alt="...">
					<div class="card-body">
					  <h5 class="card-title">海象淨水</h5>
					  <p class="card-text">桶裝水｜淨水設備｜全屋過濾系統</p>
						<div class="btn-group d-flex" role="group">
						  <a href="https://lin.ee/EkJAp57" class="btn btn-success flex-fill">LINE官方</a>
						  <a href="#" class="btn btn-primary flex-fill">商品瀏覽</a>
					    </div>
					</div>
				  </div>
				  
				 <div class="card border-dark  mb-3">
					<img src="./img/LineBC/AppointedStore/chenyangdesign.jpg" class="card-img-top" alt="...">
					<div class="card-body">
					  <h5 class="card-title">辰暘文創</h5>
					  <p class="card-text">平面設計｜印刷｜施工</p>
						<div class="btn-group d-flex" role="group">
						  <a href="https://lin.ee/IixoL9z" class="btn btn-success flex-fill">LINE官方</a>
						  <a href="#" class="btn btn-primary flex-fill">商品瀏覽</a>
					    </div>
					</div>
				  </div>
				</div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->
            <!-- Footer -->
            <div class="footerpage text-center"> Copyright © 2025 [大吉科技]</div>
            <!-- End of Footer -->
        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
	
	<!-- Line Liff JavaScript-->
	<script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
	
    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	
</body>

</html>

<script>
var giLog_LEVEL_INFO = 0;
var giLog_LEVEL_SUCCESS = 1;
var giLog_LEVEL_FAIL = 2;
var giLog_LEVEL_WARNING = 3;
var giLog_LEVEL_EXCEPTION = 4;
var gaLog_LEVEL_DESCRIPTION = ["[資訊]","[成功]","[失敗]","[警告]","[異常]"];

function WriteLog(iLogLevel, sLogMsg){
	console.log(gaLog_LEVEL_DESCRIPTION[iLogLevel] + " " + sLogMsg);
}

function getProfile() {
  liff.getProfile()
    .then(profile => {
      const userId = profile.userId;
      const displayName = profile.displayName;
      const pictureUrl = profile.pictureUrl;
      const statusMessage = profile.statusMessage;

	  $("#Login_Name").html(displayName + "[0點]");
	  $("#Login_Img").html("<img class='rounded-circle img-fluid' src='"+pictureUrl+"' style='width:23px;height:23px'/>");
      console.log("使用者名稱:", displayName);
      console.log("userId:", userId);
      console.log("頭像 URL:", pictureUrl);
      console.log("狀態訊息:", statusMessage);
    })
    .catch(err => console.error("取得使用者資訊失敗:", err));
}

async function LineLogin(){
	WriteLog(giLog_LEVEL_INFO, "Line Login");
	
	await liff.init({
		liffId:'2006499149-L8rJR54l'
	}).catch(function(error) {
		WriteLog(gaLog_LEVEL_DESCRIPTION, error.code + ". " + error.message);
	});
	
	if (!liff.isLoggedIn()) {
	   await liff.login().catch(function(error) {
		  WriteLog(gaLog_LEVEL_DESCRIPTION, error.code + ". " + error.message);
		});		
	}else {
      getProfile(); // 已登入就取得使用者資訊
    }
}

$( document ).ready(function() {
	LineLogin();
});
</script>